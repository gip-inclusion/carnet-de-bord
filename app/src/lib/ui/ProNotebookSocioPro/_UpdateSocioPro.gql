mutation UpdateSocioPro(
  $id: uuid!
  $workSituation: String
  $workSituationDate: date
  $workSituationEndDate: date
  $rightRqth: Boolean
  $geographicalArea: Int
  $educationLevel: String
  $lastJobEndedAt: date
  $professionalProjects: [professional_project_insert_input!]!
  $situationsToAdd: [notebook_situation_insert_input!]!
  $situationIdsToDelete: [uuid!]!
) {
  update: update_notebook_by_pk(
    pk_columns: { id: $id }
    _set: {
      workSituation: $workSituation
      workSituationDate: $workSituationDate
      workSituationEndDate: $workSituationEndDate
      rightRqth: $rightRqth
      geographicalArea: $geographicalArea
      educationLevel: $educationLevel
      lastJobEndedAt: $lastJobEndedAt
    }
  ) {
    id
  }
  delete_professional_project(where: { notebook_id: { _eq: $id } }) {
    affected_rows
  }
  insert_professional_project(objects: $professionalProjects) {
    affected_rows
  }
  delete_notebook_situation(
    where: { _and: [{ notebookId: { _eq: $id } }, { situationId: { _in: $situationIdsToDelete } }] }
  ) {
    affected_rows
  }
  insert_notebook_situation(objects: $situationsToAdd) {
    affected_rows
  }
}
