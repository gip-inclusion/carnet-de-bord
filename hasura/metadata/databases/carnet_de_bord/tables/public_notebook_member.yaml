table:
  name: notebook_member
  schema: public
configuration:
  custom_column_names:
    created_at: createdAt
    creator_id: creatorId
    invitation_sent_at: invitationSendAt
    last_modified_at: lastModifiedAt
    last_visited_at: lastVisitedAt
    member_type: memberType
    notebook_id: notebookId
    professional_id: professionalId
  custom_root_fields: {}
object_relationships:
- name: creator
  using:
    foreign_key_constraint_on: creator_id
- name: notebook
  using:
    foreign_key_constraint_on: notebook_id
- name: professional
  using:
    foreign_key_constraint_on: professional_id
insert_permissions:
- permission:
    backend_only: false
    check: {}
    columns:
    - id
    - notebook_id
    - professional_id
    - last_visited_at
    - member_type
    - last_modified_at
    - created_at
    - creator_id
    - invitation_sent_at
  role: admin_cdb
- permission:
    backend_only: false
    check:
      professional:
        structure:
          admins:
            admin_structure_id:
              _eq: X-Hasura-adminStructure-Id
    columns:
    - member_type
    - notebook_id
    - professional_id
    set:
      invitation_sent_at: now()
  role: admin_structure
- permission:
    backend_only: false
    check:
      notebook:
        beneficiary:
          deployment_id:
            _eq: X-Hasura-Deployment-Id
    columns:
    - active
    - created_at
    - creator_id
    - id
    - invitation_sent_at
    - last_modified_at
    - last_visited_at
    - member_type
    - notebook_id
    - professional_id
  role: manager
- permission:
    backend_only: false
    check: {}
    columns:
    - creator_id
    - id
    - member_type
    - notebook_id
    - last_modified_at
    - last_visited_at
    - professional_id
  role: professional
select_permissions:
- permission:
    allow_aggregations: true
    columns:
    - active
    - created_at
    - creator_id
    - id
    - invitation_sent_at
    - last_modified_at
    - last_visited_at
    - member_type
    - notebook_id
    - professional_id
    filter: {}
  role: admin_cdb
- permission:
    allow_aggregations: true
    columns:
    - active
    - created_at
    - creator_id
    - id
    - invitation_sent_at
    - last_modified_at
    - last_visited_at
    - member_type
    - notebook_id
    - professional_id
    filter:
      professional:
        structure:
          admins:
            admin_structure_id:
              _eq: X-Hasura-adminStructure-Id
  role: admin_structure
- permission:
    columns:
    - active
    - created_at
    - id
    - last_modified_at
    - last_visited_at
    - member_type
    - notebook_id
    - professional_id
    filter:
      notebook:
        beneficiary_id:
          _eq: X-Hasura-Beneficiary-Id
  role: beneficiary
- permission:
    allow_aggregations: true
    columns:
    - active
    - created_at
    - creator_id
    - id
    - invitation_sent_at
    - last_modified_at
    - last_visited_at
    - member_type
    - notebook_id
    - professional_id
    filter:
      notebook:
        beneficiary:
          deployment_id:
            _eq: X-Hasura-Deployment-Id
  role: manager
- permission:
    allow_aggregations: true
    columns:
    - created_at
    - creator_id
    - id
    - invitation_sent_at
    - member_type
    - notebook_id
    - last_modified_at
    - last_visited_at
    - professional_id
    filter:
      _and:
      - notebook:
          members:
            professional_id:
              _eq: X-Hasura-Professional-Id
      - active:
          _eq: true
  role: professional
update_permissions:
- permission:
    check: {}
    columns:
    - member_type
    - created_at
    - invitation_sent_at
    - last_modified_at
    - last_visited_at
    - creator_id
    - id
    - notebook_id
    - professional_id
    filter: {}
  role: admin_cdb
- permission:
    check: null
    columns:
    - active
    - member_type
    filter:
      notebook:
        beneficiary:
          deployment_id:
            _eq: X-Hasura-Deployment-Id
  role: manager
- permission:
    check: null
    columns:
    - member_type
    - last_modified_at
    - last_visited_at
    filter:
      professional_id:
        _eq: X-Hasura-Professional-Id
  role: professional
delete_permissions:
- permission:
    filter:
      notebook:
        beneficiary:
          deployment_id:
            _eq: X-Hasura-Deployment-Id
  role: manager
